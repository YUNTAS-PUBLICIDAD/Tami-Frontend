import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{g as m,c as u}from"./config.BD8tWXmp.js";import{S as l}from"./sweetalert2.esm.all.Y6IUEg8t.js";import{r as d}from"./index.DtoOFyvK.js";const h=()=>{const[r,t]=d.useState(!1),o=()=>{const a=!r;t(a),localStorage.setItem("darkMode",JSON.stringify(a)),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),window.dispatchEvent(new CustomEvent("darkModeToggle",{detail:{darkMode:a}}))};return d.useEffect(()=>{if(typeof window>"u")return;const a=JSON.parse(localStorage.getItem("darkMode")||"false");t(a),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const n=s=>{const i=s.detail.darkMode;t(i)};return window.addEventListener("darkModeToggle",n),()=>{window.removeEventListener("darkModeToggle",n)}},[]),{darkMode:r,toggleDarkMode:o}};async function g(){if((await l.fire({title:"¿Estás seguro?",text:"¿Deseas cerrar sesión?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, cerrar sesión",cancelButtonText:"Cancelar"})).isConfirmed)try{const t=await fetch(m(u.endpoints.auth.logout),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),o=await t.json();t.ok?(localStorage.removeItem("token"),await l.fire("¡Sesión cerrada!","Has cerrado sesión exitosamente.","success"),window.location.href="/"):(console.error("Error en la respuesta del servidor:",o.message),l.fire("Error",o.message||"Error al cerrar sesión","error"))}catch(t){console.error("Error de conexión con el servidor:",t),l.fire("Error","Error de conexión con el servidor.","error")}}const v=()=>{const{darkMode:r,toggleDarkMode:t}=h(),[o,a]=d.useState("");d.useEffect(()=>{a(window.location.pathname)},[]);const n=[{name:"Inicio",path:"/admin/inicio"},{name:"Seguimiento",path:"/admin/seguimiento"},{name:"Ventas",path:"/admin/ventas"},{name:"Usuarios",path:"/admin/usuarios"},{name:"Productos",path:"/admin/productos"},{name:"Blog",path:"/admin/blog"}];return e.jsxs("aside",{className:`h-full w-full p-4 space-y-4 ${r?"bg-[#1e1e2f] text-white":"bg-gray-200 text-gray-800"}`,children:[e.jsx("nav",{className:"mt-3",children:e.jsx("ul",{className:"space-y-2",children:n.map((s,c)=>{const i=o===s.path;return e.jsx("li",{children:e.jsxs("a",{href:s.path,className:`flex items-center px-4 py-2 rounded-lg transition-all duration-200 group relative ${i?"text-gray-900  dark:text-teal-700 font-black hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-teal-700 dark:hover:text-teal-300":"text-gray-700 dark:text-teal-500  hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-teal-700 dark:hover:text-teal-300"}`,children:[e.jsx("svg",{className:`w-6 h-6 fill-current ${i?"text-white":"text-teal-500"} mr-2`,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})}),s.name]})},c)})})}),e.jsxs("div",{className:"border-t border-gray-400 pt-4 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Dark Mode"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r,onChange:t}),e.jsx("div",{className:`w-10 h-5 rounded-full transition-colors duration-300 ${r?"bg-gray-700":"bg-gray-400"}`,children:e.jsx("div",{className:`absolute w-4 h-4 rounded-full shadow-md transition-transform translate-y-0.5 duration-300 flex items-center justify-center ${r?"translate-x-5 bg-white":"translate-x-1 bg-white"}`,children:!r&&e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})})]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 text-center rounded-lg shadow-sm hover:shadow-md transition-all duration-300 p-4 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-400 to-blue-500 rounded-full flex items-center justify-center text-white text-xl shadow-md transform hover:scale-105 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:"👤"})}),e.jsx("p",{className:"font-bold text-lg text-gray-800 dark:text-gray-100",children:"Bienvenido"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Administrador"})]}),e.jsx("button",{onClick:g,className:"w-full bg-gradient-to-r my-2 from-teal-500 to-teal-600 text-white py-2 px-4 rounded-lg font-medium hover:from-teal-600 hover:to-teal-700 transition-all duration-300 shadow-sm hover:shadow focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50",children:"Cerrar sesión"})]})})]})};export{v as default};
