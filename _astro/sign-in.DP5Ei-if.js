import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.ai7qpRr1.js";const d="/_astro/logo_animado.BqjAaMyp.gif",m={src:"/_astro/login_bg.CHvLnTHI.jpg"},g=()=>{const[o,x]=c.useState(null),i=async s=>{s.preventDefault();const a=new FormData(s.currentTarget),n=a.get("email"),l=a.get("password");console.log("Intentando iniciar sesión con:",n,l);try{const t=await fetch("https://apitami.tami-peru.com/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:l})});console.log("Respuesta recibida:",t);const r=await t.json();console.log("Datos del servidor:",r),t.ok?(localStorage.setItem("token",r.token),window.location.href="/admin"):(console.error("Error en la respuesta del servidor:",r.message),alert(r.message||"Error al iniciar sesión"))}catch(t){console.error("Error de conexión con el servidor:",t),alert("Error de conexión con el servidor.")}};return e.jsxs("div",{className:"min-h-screen w-full flex flex-col justify-center items-center relative bg-cover bg-center",style:{backgroundImage:`url(${m.src})`},children:[e.jsx("a",{href:"/",className:"absolute top-2 left-2 bg-red-700 text-white font-semibold rounded-2xl px-5 py-2 hover:bg-red-900 transition-colors duration-200 drop-shadow-lg opacity-70 hover:opacity-100",children:"Regresar"}),e.jsxs("div",{className:"text-center mb-8 relative z-10",children:[e.jsx("img",{src:d,alt:"TAMI Logo",className:"w-26 mx-auto mb-6"}),e.jsx("h1",{className:"text-white text-4xl md:text-5xl font-black",children:"¡BIENVENIDO!"})]}),e.jsxs("form",{className:"space-y-4 w-full max-w-2xs md:max-w-md relative z-10",onSubmit:i,children:[o&&e.jsx("p",{className:"text-red-500 text-center",children:o}),e.jsx("div",{children:e.jsx("input",{type:"email",name:"email",className:"w-full p-3 bg-white/70 text-sm rounded-2xl text-gray-700 font-semibold placeholder-gray-400 focus:outline-none px-6",placeholder:"EMAIL",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"password",name:"password",className:"w-full p-3 bg-white/70 text-sm rounded-2xl text-gray-700 font-semibold placeholder-gray-400 focus:outline-none px-6 mb-2",placeholder:"CONTRASEÑA",required:!0})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"w-3/5 md:w-2/5 bg-teal-600 text-white p-2 rounded-3xl text-base font-bold hover:bg-teal-700 transition hover:cursor-pointer",children:"INGRESAR"})})]})]})};export{g as default};
