import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.Be8AcK8B.js";import{C as f}from"./CardBlog.Dbw4S2_2.js";import{g as j,c as k}from"./config.CC92D0Fw.js";import{F as v,a as w,b as N}from"./index.C05Gb2D6.js";import"./iconBase.Db4UJpFa.js";const C=({searchTerm:l})=>{const[d,i]=n.useState([]),[h,u]=n.useState(null),[a,g]=n.useState(1),x=10;n.useEffect(()=>{const t=j(k.endpoints.blogs.list);(async()=>{try{const r=await fetch(t);if(!r.ok)throw new Error("HTTP error blogs!");const m=await r.json();if(!m.success||!Array.isArray(m.data))throw new Error("No se pudieron obtener los blogs");i(m.data)}catch(r){u("Error al obtener blogs: "+(r instanceof Error?r.message:"Error desconocido"))}})()},[]);const c=d.filter(t=>{const s=l.toLowerCase();return t.titulo.toLowerCase().includes(s)||t.nombre_producto?.toLowerCase().includes(s)}),b=a*x,p=b-x,y=c.slice(p,b),o=Math.ceil(c.length/x);return e.jsxs(e.Fragment,{children:[h?e.jsx("p",{className:"text-center text-red-600",children:h}):c.length>0?y.map(t=>e.jsx(f,{blog:t},t.id)):e.jsx("p",{className:"text-center text-teal-800",children:"No se encontraron resultados."}),c.length>0&&e.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[e.jsx("button",{onClick:()=>g(t=>Math.max(t-1,1)),disabled:a===1,className:`${a===1?"":"cursor-pointer"} px-3 py-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 text-sm text-gray-700 dark:text-gray-200`,children:e.jsx(v,{})}),Array.from({length:Math.min(o,5)},(t,s)=>{let r;return o<=5||a<=3?r=s+1:a>=o-2?r=o-4+s:r=a-2+s,e.jsx("button",{onClick:()=>g(r),className:`px-3 py-1 border rounded-md text-sm cursor-pointer ${a===r?"bg-teal-500 text-white border-teal-500":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:r},s)}),e.jsx("button",{onClick:()=>g(t=>Math.min(t+1,o)),disabled:a===o,className:`${a===o?"":"cursor-pointer"} px-3 py-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 text-sm text-gray-700 dark:text-gray-200`,children:e.jsx(w,{})})]})]})},T=()=>{const[l,d]=n.useState("");return e.jsxs("section",{className:"container mx-auto p-4 md:p-10 lg:px-24",children:[e.jsx("h2",{className:"text-teal-700 text-3xl md:text-4xl font-bold mb-6",children:"Todos los productos"}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar",value:l,onChange:i=>d(i.target.value),className:`w-full border-2 border-teal-700 rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 
              focus:outline-none focus:border-[#00786F]
              hover:border-[#00786F] transition-all duration-300`}),e.jsx(N,{className:"absolute right-4 top-3.5 text-teal-700"})]})}),e.jsx(C,{searchTerm:l})]})};export{T as default};
