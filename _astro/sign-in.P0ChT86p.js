import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.6otl1p8d.js";import{g as d,c as m}from"./config.BxIw3SrH.js";const x="/_astro/logo_animado.BqjAaMyp.gif",p={src:"/_astro/login_bg.CHvLnTHI.jpg"},b=()=>{const[r,g]=c.useState(null),i=async s=>{s.preventDefault();const a=new FormData(s.currentTarget),n=a.get("email"),l=a.get("password");console.log("Intentando iniciar sesión con:",n,l);try{const o=await fetch(d(m.endpoints.auth.login),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:l})});console.log("Respuesta recibida:",o);const t=await o.json();console.log("Datos del servidor:",t),o.ok?(localStorage.setItem("token",t.data.token),window.location.href="/admin/inicio"):(console.error("Error en la respuesta del servidor:",t.message),alert(t.message||"Error al iniciar sesión"))}catch(o){console.error("Error de conexión con el servidor:",o),alert("Error de conexión con el servidor.")}};return e.jsxs("div",{className:"min-h-screen w-full flex flex-col justify-center items-center relative bg-cover bg-center",style:{backgroundImage:`url(${p.src})`},children:[e.jsx("a",{href:"/",className:"absolute top-2 left-2 bg-red-700 text-white font-semibold rounded-2xl px-5 py-2 hover:bg-red-900 transition-colors duration-200 drop-shadow-lg opacity-70 hover:opacity-100",children:"Regresar"}),e.jsxs("div",{className:"text-center mb-8 relative z-10",children:[e.jsx("img",{loading:"lazy",src:x,alt:"TAMI Logo",className:"w-26 mx-auto mb-6"}),e.jsx("h1",{className:"text-white text-4xl md:text-5xl font-black",children:"¡BIENVENIDO!"})]}),e.jsxs("form",{className:"space-y-4 w-full max-w-2xs md:max-w-md relative z-10",onSubmit:i,children:[r&&e.jsx("p",{className:"text-red-500 text-center",children:r}),e.jsx("div",{children:e.jsx("input",{type:"email",name:"email",className:"w-full p-3 bg-white/70 text-sm rounded-2xl text-gray-700 font-semibold placeholder-gray-400 focus:outline-none px-6",placeholder:"EMAIL",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"password",name:"password",className:"w-full p-3 bg-white/70 text-sm rounded-2xl text-gray-700 font-semibold placeholder-gray-400 focus:outline-none px-6 mb-2",placeholder:"CONTRASEÑA",required:!0})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"w-3/5 md:w-2/5 bg-teal-600 text-white p-2 rounded-3xl text-base font-bold hover:bg-teal-700 transition hover:cursor-pointer",children:"INGRESAR"})})]})]})};export{b as default};
