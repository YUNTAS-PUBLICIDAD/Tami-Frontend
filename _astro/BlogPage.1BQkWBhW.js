import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.DtoOFyvK.js";import{G as u,F as h}from"./index.BUtwrFzd.js";import{c as x,g as f}from"./config.BD8tWXmp.js";function p(t){return u({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(t)}const g=({blog:t})=>{const s=x.apiUrl;return e.jsxs("a",{href:`/blog/details?id=${t.id}`,title:"Ver detalles del blog",className:"my-5 flex flex-col lg:flex-row items-center transition-transform duration-300 ease-in-out hover:scale-105 bg-teal-800 text-white shadow-md overflow-hidden",children:[e.jsx("figure",{className:"lg:w-1/3 w-full",children:e.jsx("img",{src:`${s}${t.miniatura}`,alt:t.titulo,loading:"lazy",className:"w-full h-48 object-cover"})}),e.jsxs("div",{className:"lg:w-2/3 w-full p-6",children:[t.nombre_producto&&e.jsx("div",{className:"flex items-center mb-2",children:e.jsx("span",{className:"border border-white rounded px-2 py-1 mr-2 ml-3",children:t.nombre_producto})}),e.jsx("h2",{className:"text-2xl font-bold mb-2 ml-3",children:t.subtitulo1}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(p,{className:"text-5xl"}),e.jsx("p",{className:"text-gray-300",children:t.subtitulo2})]})]})]})},w=({searchTerm:t})=>{const[s,o]=l.useState([]),[i,m]=l.useState(null);l.useEffect(()=>{const r=f(x.endpoints.blogs.list);(async()=>{try{const a=await fetch(r);if(!a.ok)throw new Error("HTTP error blogs!");const n=await a.json();if(!n.success||!Array.isArray(n.data))throw new Error("No se pudieron obtener los blogs");o(n.data)}catch(a){m("Error al obtener blogs: "+(a instanceof Error?a.message:"Error desconocido"))}})()},[]);const d=s.filter(r=>{const c=t.toLowerCase();return r.titulo.toLowerCase().includes(c)||r.nombre_producto?.toLowerCase().includes(c)});return e.jsx(e.Fragment,{children:i?e.jsx("p",{className:"text-center text-red-600",children:i}):d.length>0?d.map(r=>e.jsx(g,{blog:r},r.id)):e.jsx("p",{className:"text-center text-teal-800",children:"No se encontraron resultados."})})},y=()=>{const[t,s]=l.useState("");return e.jsxs("section",{className:"container mx-auto p-4 md:p-10 lg:px-24",children:[e.jsx("h2",{className:"text-teal-800 text-3xl font-bold mb-4 mx-4",children:"Todos los artÃ­culos"}),e.jsx("div",{className:"flex flex-wrap items-center gap-4 mx-4 mb-6",children:e.jsxs("div",{className:"relative flex items-center flex-grow",children:[e.jsx(h,{className:"absolute left-3 text-teal-800"}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:t,onChange:o=>s(o.target.value),className:"w-full border border-teal-800 rounded-3xl pl-10 pr-4 py-2 text-teal-800 focus:outline-none focus:border-2 focus:border-teal-800"})]})}),e.jsx(w,{searchTerm:t})]})};export{y as default};
