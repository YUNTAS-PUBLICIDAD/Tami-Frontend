const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/NavLink.Bw_0FK0X.js","_astro/jsx-runtime.D_zvdyIk.js","_astro/SideMenu.DAhDgcVo.js","_astro/index.Be8AcK8B.js","_astro/runtime.DCW9WJrk.js","_astro/iconBase.Db4UJpFa.js"])))=>i.map(i=>d[i]);
import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.Be8AcK8B.js";import{c as L}from"./runtime.DCW9WJrk.js";import{G as C}from"./iconBase.Db4UJpFa.js";const _="modulepreload",O=function(r){return"/"+r},N={},E=function(h,f,y){let p=Promise.resolve();if(f&&f.length>0){let c=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),g=s?.nonce||s?.getAttribute("nonce");p=c(f.map(l=>{if(l=O(l),l in N)return;N[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const n=document.createElement("link");if(n.rel=d?"stylesheet":_,d||(n.as="script"),n.crossOrigin="",n.href=l,g&&n.setAttribute("nonce",g),document.head.appendChild(n),d)return new Promise((x,b)=>{n.addEventListener("load",x),n.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(c){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=c,window.dispatchEvent(s),!s.defaultPrevented)throw c}return p.then(c=>{for(const s of c||[])s.status==="rejected"&&i(s.reason);return h().catch(i)})},S={src:"/_astro/logo-estatico-100x116.B0Pf3Br1.webp"};function M(r,h){return r?typeof r=="string"&&!r.startsWith("http")?`${h}${r}`:r:""}const B=L({meta:{src:"/_astro/smi_whatsapp.2SrrIh8E.svg",width:90,height:90,format:"svg"},attributes:{id:"Capa_1",x:"0px",y:"0px",width:"90px",height:"90px",viewBox:"0 0 90 90",style:"enable-background:new 0 0 90 90;","xml:space":"preserve"},children:`
    <g>
        <path id="WhatsApp" fill="#ffffff" d="M90,43.841c0,24.213-19.779,43.841-44.182,43.841c-7.747,0-15.025-1.98-21.357-5.455L0,90l7.975-23.522 c-4.023-6.606-6.34-14.354-6.34-22.637C1.635,19.628,21.416,0,45.818,0C70.223,0,90,19.628,90,43.841z M45.818,6.982 c-20.484,0-37.146,16.535-37.146,36.859c0,8.065,2.629,15.534,7.076,21.61L11.107,79.14l14.275-4.537 c5.865,3.851,12.891,6.097,20.437,6.097c20.481,0,37.146-16.533,37.146-36.857S66.301,6.982,45.818,6.982z M68.129,53.938 c-0.273-0.447-0.994-0.717-2.076-1.254c-1.084-0.537-6.41-3.138-7.4-3.495c-0.993-0.358-1.717-0.538-2.438,0.537 c-0.721,1.076-2.797,3.495-3.43,4.212c-0.632,0.719-1.263,0.809-2.347,0.271c-1.082-0.537-4.571-1.673-8.708-5.333 c-3.219-2.848-5.393-6.364-6.025-7.441c-0.631-1.075-0.066-1.656,0.475-2.191c0.488-0.482,1.084-1.255,1.625-1.882 c0.543-0.628,0.723-1.075,1.082-1.793c0.363-0.717,0.182-1.344-0.09-1.883c-0.27-0.537-2.438-5.825-3.34-7.977 c-0.902-2.15-1.803-1.792-2.436-1.792c-0.631,0-1.354-0.09-2.076-0.09c-0.722,0-1.896,0.269-2.889,1.344 c-0.992,1.076-3.789,3.676-3.789,8.963c0,5.288,3.879,10.397,4.422,11.113c0.541,0.716,7.49,11.92,18.5,16.223 C58.2,65.771,58.2,64.336,60.186,64.156c1.984-0.179,6.406-2.599,7.312-5.107C68.398,56.537,68.398,54.386,68.129,53.938z" />
    </g>
`}),k=[{url:"/",texto:"INICIO",title:"Ir a la página de inicio"},{url:"/sobre-nosotros",texto:"NOSOTROS",title:"Ir a la sección de nosotros"},{url:"/productos",texto:"PRODUCTOS",title:"Ir a la sección de productos"},{url:"/politicas-de-envio",texto:"POLÍTICAS DE ENVÍO",title:"Ir a la sección de políticas de envío"},{url:"/blog",texto:"BLOGS",title:"Ir a la sección de blogs"}];function z(r){return C({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(r)}function P(r){return C({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(r)}const A=a.lazy(()=>E(()=>import("./NavLink.Bw_0FK0X.js"),__vite__mapDeps([0,1]))),R=a.lazy(()=>E(()=>import("./SideMenu.DAhDgcVo.js"),__vite__mapDeps([2,1,3,4,5])));function q(){const r="https://apitami.tamimaquinarias.com",[h,f]=a.useState(!1),[y,p]=a.useState(!1),[i,c]=a.useState(""),[s,g]=a.useState([]),[l,d]=a.useState(!1),[u,n]=a.useState(!1),x=a.useRef(null);a.useEffect(()=>{if(i.trim().length<2){g([]),n(!1);return}d(!0),fetch("/api/productos").then(t=>t.json()).then(t=>{const o=t.data??[],m=i.trim().toLowerCase(),v=o.filter(w=>[w.nombre,w.titulo,w.subtitulo,w.descripcion].some(j=>j&&j.toLowerCase().includes(m)));g(v.slice(0,6)),n(!0)}).catch(()=>g([])).finally(()=>d(!1))},[i]),a.useEffect(()=>{function t(o){x.current&&!x.current.contains(o.target)&&n(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),a.useEffect(()=>{let t=!1;const o=()=>{t||(requestAnimationFrame(()=>{p(window.scrollY>50),t=!1}),t=!0)},m=()=>{p(window.scrollY>50)};return window.addEventListener("scroll",o,{passive:!0}),m(),()=>{window.removeEventListener("scroll",o)}},[]);const b=t=>{t.preventDefault(),i.trim()&&(n(!1),window.location.href=`/buscar?q=${encodeURIComponent(i.trim())}`)},I=t=>{n(!1),c(""),window.location.href=`/productos/detalle/?link=${encodeURIComponent(t.link)}`};return e.jsxs("header",{className:`items-center justify-between text-white text-base lg:text-lg fixed w-full py-2 px-4 lg:px-12 transition-all z-50 duration-300 grid grid-cols-2 lg:grid-cols-12 ${y?"bg-teal-700 shadow-lg":"bg-transparent"}`,style:{maxWidth:"100vw",minHeight:"60px"},children:[e.jsx("div",{className:"md:hidden",children:e.jsx("button",{className:"w-[56px] h-[56px] lg:hidden cursor-pointer flex items-center justify-between",title:"Abrir Menú",onClick:()=>f(!h),children:h?e.jsx(z,{size:50}):e.jsx(P,{size:50})})}),e.jsxs("a",{href:"/",title:"Ir a la seccion de inicio",className:"place-self-end lg:place-self-auto content-center h-14 mr-4",children:[e.jsx("img",{src:S.src,alt:"Logo de Tami con letras",className:"h-full lg:hidden object-contain",width:"120",height:"50",style:{paddingLeft:"5rem"},title:"Logo de Tami con letras",fetchPriority:"high",decoding:"async"}),e.jsx("img",{src:S.src,alt:"logo de Tami sin letras",className:"hidden lg:block object-contain",width:"76",height:"86",loading:"eager",style:{maxHeight:"60px"},title:"logo de Tami sin letras",fetchPriority:"high",decoding:"async"})]}),e.jsx("nav",{className:"lg:flex hidden col-span-7 w-full h-full",children:e.jsx("ul",{className:"flex gap-10 w-full h-full items-center place-content-center",children:k.map((t,o)=>e.jsx("li",{children:e.jsx(A,{to:t.url,isForNavBar:!0,title:`Ir a la sección de ${t.texto}`,children:t.texto})},o))})}),e.jsxs("div",{className:"hidden lg:flex h-full content-center text-end col-span-4 w-full items-center justify-end gap-4",children:[e.jsx("a",{href:"https://api.whatsapp.com/send?phone=51978883199",title:"Conéctate con nosotros por WhatsApp",target:"_blank",rel:"noopener noreferrer",className:"transition-transform duration-200 transform hover:scale-110",children:e.jsx("img",{src:B.src,alt:"WhatsApp",title:"Conéctate con nosotros por WhatsApp",className:"w-7 h-7",loading:"lazy"})}),e.jsxs("form",{onSubmit:b,className:"relative",ref:x,autoComplete:"off",children:[e.jsx("input",{type:"text",value:i,onChange:t=>c(t.target.value),placeholder:"¿Qué buscas?",className:"text-gray-800 placeholder-gray-400 bg-white rounded-full pl-4 pr-10 py-2 w-44 lg:w-56 focus:outline-none focus:ring-2 focus:ring-teal-400 transition duration-300",onFocus:()=>i.length>1&&n(!0)}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-teal-600 hover:text-teal-800","aria-label":"Buscar",title:"Botón de búsqueda",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M12.9 14.32a8 8 0 111.414-1.414l4.387 4.386a1 1 0 01-1.414 1.415l-4.387-4.387zM8 14a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})})}),u&&s.length>0&&e.jsxs("ul",{className:"absolute left-0 mt-2 w-[340px] backdrop-blur-md bg-white/80 border border-teal-200 rounded-2xl shadow-2xl z-50 max-h-80 overflow-y-auto ring-1 ring-teal-100",style:{boxShadow:"0 8px 32px 0 rgba(0, 150, 136, 0.18)",scrollbarWidth:"none",msOverflowStyle:"none"},children:[e.jsx("style",{children:`
                  ul::-webkit-scrollbar {
                    display: none;
                  }
                `}),l&&e.jsx("li",{className:"px-4 py-2 text-gray-500",children:"Buscando..."}),s.map((t,o)=>{let m=null;if(t.imagenes&&t.imagenes.length>0){const v=t.imagenes[0].url_imagen;m=M(v,r)}return e.jsxs("li",{className:`flex items-center gap-3 px-3 py-3 cursor-pointer text-gray-800 text-left transition-all rounded-xl group relative hover:bg-teal-50/80 hover:ring-2 hover:ring-teal-300 ${o===s.length-1?"mb-0":""}`,style:{borderBottom:o===s.length-1?"none":"1px solid #e0f2f1"},onClick:()=>I(t),children:[m?e.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-white rounded-xl border border-teal-200 shadow-md flex-shrink-0 p-1 group-hover:scale-105 transition-transform duration-200",children:e.jsx("img",{src:m,alt:t.nombre,className:"w-full h-full object-contain rounded-lg",loading:"lazy",style:{background:"white",boxShadow:"0 2px 8px 0 rgba(0,150,136,0.10)"}})}):e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-xl flex items-center justify-center text-gray-400 border border-teal-100",children:e.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a4 4 0 004 4h10a4 4 0 004-4V7M3 7a4 4 0 014-4h10a4 4 0 014 4M3 7h18"})})}),e.jsxs("div",{className:"flex flex-col min-w-0 max-w-[230px]",children:[e.jsx("span",{className:"font-bold text-teal-800 whitespace-normal break-words leading-tight text-base group-hover:text-teal-900 transition-colors duration-200",children:t.nombre}),e.jsx("span",{className:"block text-xs text-gray-500 whitespace-normal break-words leading-tight mt-1",children:t.titulo})]}),o!==s.length-1&&e.jsx("span",{className:"absolute left-4 bottom-0 w-[90%] h-[1px] bg-teal-100"})]},t.id)})]})]}),e.jsx("a",{href:"/auth/sign-in",title:"Ir a la sección de inicio de sesión",className:"w-fit bg-white rounded-2xl border-2 border-slate-300 py-2 px-5 text-teal-700 text-base sm:text-lg hover:bg-gradient-to-t hover:from-teal-600 hover:to-teal-800 hover:text-white transition-all ease-in-out duration-300 font-bold",children:"LOGIN"})]}),e.jsx(R,{links:k,isOpen:h,onClose:()=>f(!1)})]})}export{q as N,E as _,B as w};
